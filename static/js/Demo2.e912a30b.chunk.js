(this.webpackJsonptestreactapp=this.webpackJsonptestreactapp||[]).push([[3],{854:function(e,n,t){"use strict";t.r(n);var a,r,l=t(20),i=t(22),c=t(105),o=t(64),d=t(29),u=t(0),s=t.n(u),b=t(30),h=t(11),m=t(32),f=t(88),p=t(95),g=t(205),x=t(118),O=t(709),v=t(159),j=t(74),w=b.b.div(a||(a=Object(d.a)(["\n  ","\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  border: 1px solid ",";\n  font-size: 12px;\n  max-height: 500px;\n\n  table{\n    table-layout: fixed;\n    /* border-collapse: collapse; */\n    border-collapse: separate;\n    border-spacing: 0;\n    border-width: 0px;\n    width: 100%;\n    border-color: ",";\n  }\n\n  .tableHeadZone{\n    overflow-x: auto;\n    padding: 0 3px 0 0;\n    border-bottom: 1px solid ",";\n    background: #eeeeee;\n    position: sticky;\n    top: 0;\n    z-index: 3;\n    tr{\n      .tableCell{\n        background: #eeeeee;\n        border-bottom-width: 1px;\n        &.sortable{\n          cursor: pointer;\n        }\n        .iconSort{\n          font-size: 14px;\n          margin: 0 0 0 2px;\n          transition: .4s ease;\n        }\n        .iconExpand{\n          margin: 0 4px 0 0;\n          transition: .4s ease;\n        }\n        .iconSort:active, .iconExpand:active{\n          transform: scale(0.9);\n        }\n      }\n    }\n    ::-webkit-scrollbar {\n      &:horizontal{ display: none }\n    }\n  }\n\n  .tableBodyZone{\n    tr{\n      &:not(:last-child){\n        border-bottom: 1px solid ",";\n        .tableCell{\n          border-bottom-width: 1px;\n        }\n      }\n      &.focus{\n        .tableCell{\n          background: #cecece !important;\n        }\n      }\n      .tableCell{\n        background: ",";\n        &.focus{\n          box-shadow: inset 0px 0px 0px 1px #004fc4;\n        }\n      }\n    }\n  }\n\n  .emptyTable{\n    display: flex;\n    justify-content: center;\n    margin: 8% 0;\n    font-size: 1rem;\n    font-weight: 500;\n  }\n\n"])),Object(v.a)(2),j.a.GRAY,j.a.GRAY,j.a.GRAY,j.a.GRAY,j.a.WHITE),E=b.b.td(r||(r=Object(d.a)(["\n  padding: 5px;\n  width: ",";\n  letter-spacing: 0;\n  text-align: ",";\n  >div{\n    display: flex;\n    align-items: center;\n    justify-content: ",";\n    >span{\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n    }\n  }\n  &:first-child{\n    position: ",";\n    z-index: 1;\n    left: 0;\n  }\n  &:nth-child(2){\n    position: ",";\n    z-index: 1;\n    left: 32px;\n  }\n  &:not(:last-child){\n    border-right: 1px solid ",";\n  }\n  &.hasChildren{\n    background: #eeeeee !important;\n  }\n\n  .cellInput{\n    width: 100%;\n    padding: 0 4px;\n    border: none;\n    background: #f4f4f4;\n    border-radius: 0;\n    .functionBtn{\n      display: none;\n    }\n    .valueBox{\n      text-align: ",";\n      text-overflow: unset;\n    }\n  }\n"])),(function(e){return e.width||"auto"}),(function(e){return e.align||"center"}),(function(e){return function(e){switch(e){case"left":return"flex-start";case"right":return"flex-end";default:return"center"}}(e.align)}),(function(e){return e.columnHeaderFreeze||e.showGutter?"sticky":"unset"}),(function(e){return e.columnHeaderFreeze&&e.showGutter?"sticky":"unset"}),j.a.GRAY,(function(e){return e.align||"center"}));var C,I,N=t(137),S="descend",y="ascend",M=function(e){var n=e.columnHeaderFreeze,t=void 0!==n&&n,a=e.showGutter,r=void 0!==a&&a,l=e.columns,d=void 0===l?[]:l,b=e.dataSource,h=void 0===b?[]:b,m=e.setDataSource,p=void 0===m?function(){}:m,g=e.onRow,v=void 0===g?function(){}:g,j=e.editMode,w=void 0!==j&&j,C=Object(u.useState)(h),I=Object(o.a)(C,2),M=I[0],_=I[1],k=Object(u.useState)(d),A=Object(o.a)(k,2),z=A[0],T=A[1],V=Object(u.useState)([]),R=Object(o.a)(V,2),G=R[0],J=R[1];function F(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2?arguments[2]:void 0,a=arguments.length>4?arguments[4]:void 0;e.stopPropagation(),n(t);for(var r=document.querySelectorAll("tr"),l=0;l<r.length;l++)r[l].classList.remove("focus");for(var i=document.querySelectorAll("td"),c=0;c<i.length;c++)i[c].classList.remove("focus");w||e.currentTarget.classList.toggle("focus");var o=document.getElementById("table-row--".concat(a));o.classList.toggle("focus")}function D(e){var n,t=["tableCell"];return e.className&&t.push(e.className),(null===(n=e.children)||void 0===n?void 0:n.length)>0&&t.push("hasChildren"),e.sortable&&t.push("sortable"),t.join(" ")}function Q(e){var n=H("column",e,G,"findIndex"),t=Object(c.a)(G);if(-1===n)J((function(n){return[].concat(Object(c.a)(n),[{column:e,order:S}])}));else{var a;switch(G[n].order){case"":a=S,t[n]={column:e,order:a};break;case S:a=y,t[n]={column:e,order:a};break;case y:a="",t.splice(n,1)}J(t)}}function B(e){var n=H("column",e,G,"find");if(n)switch(n.order){case S:return s.a.createElement(x.c,{className:"iconSort"});case y:return s.a.createElement(x.d,{className:"iconSort"});default:return}}function H(e,n,t,a){return f[a](f.propEq(e,n))(t)}function W(e,n,a,l){return s.a.createElement(E,Object.assign({key:"table-".concat(a,"--").concat(e.dataIndex,"--").concat(n+1),id:"table-".concat(a,"--").concat(n+1),className:D(e),width:e.width,align:e.align,columnHeaderFreeze:t,showGutter:r},l),w&&l.editable?s.a.createElement(N.a,{name:e.dataIndex,value:l.value,onChange:function(e){return function(e,n){var t=M.map((function(t){return t.no===n?Object(i.a)(Object(i.a)({},t),e):t}));p(t)}(e,l.rowData.no)},placeholder:"",className:"cellInput"}):l.children)}function P(e,n){e.stopPropagation();var t=H("dataIndex",n,z,"findIndex"),a=Object(c.a)(z),r=Object(c.a)(z)[t];a[t]=Object(i.a)(Object(i.a)({},r),{},{showChildren:!r.showChildren}),T(a)}return Object(u.useEffect)((function(){_(h)}),[h]),Object(u.useEffect)((function(){if(0!==G.length){var e=G.map((function(e){return f[e.order](f.prop(e.column))})),n=f.sortWith(e)(h);_(n)}else _(h)}),[JSON.stringify(G)]),Object(u.useEffect)((function(){for(var e=document.querySelectorAll("td"),n=0;n<e.length;n++)e[n].classList.remove("focus")}),[w]),s.a.createElement(s.a.Fragment,null,M.length>0?s.a.createElement("table",null,s.a.createElement("thead",{className:"tableHeadZone"},s.a.createElement("tr",null,r&&W(r,0,"header",{align:r.titleAlign?r.titleAlign:r.align,children:s.a.createElement(s.a.Fragment,null,r.title," ")}),z.map((function(e,n){var t;return s.a.createElement(s.a.Fragment,null,W(e,r?n+1:n,"header",{align:e.titleAlign?e.titleAlign:e.align,children:s.a.createElement("div",null,(null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>0&&(e.showChildren?s.a.createElement(O.a,{className:"iconExpand",onClick:function(n){return P(n,e.dataIndex)}}):s.a.createElement(O.b,{className:"iconExpand",onClick:function(n){return P(n,e.dataIndex)}})),s.a.createElement("span",{onClick:function(){return e.sortable?Q(e.dataIndex):{}}},e.title),e.sortable&&B(e.dataIndex))}),e.showChildren&&e.children.map((function(e){return W(e,r?n+1:n,"header",{align:e.titleAlign?e.titleAlign:e.align,children:s.a.createElement("div",null,s.a.createElement("span",{onClick:function(){return e.sortable?Q(e.dataIndex):{}}},e.title),e.sortable&&B(e.dataIndex))})})))})))),s.a.createElement("tbody",{className:"tableBodyZone"},M.map((function(e,n){return s.a.createElement("tr",{key:"table-row--".concat(n),id:"table-row--".concat(n),onClick:function(n){return function(e,n){e.stopPropagation(),v(n)}(n,e)},className:e.highlight?"highlight":""},r&&W(r,0,"cell",{children:"".concat(n+1)}),z.map((function(t,a){return s.a.createElement(s.a.Fragment,null,W(t,r?a+1:a,"cell",{editable:t.editable,align:t.align,onClick:function(a){return F(a,t.onCell,e,t,n)},rowData:e,value:e[t.dataIndex],children:s.a.createElement("div",null,t.render?t.render(e[t.dataIndex],e,n):e[t.dataIndex])}),t.showChildren&&t.children.map((function(l){return W(l,r?a+1:a,"cell",{editable:l.editable,align:l.align,onClick:function(a){return F(a,t.onCell,e,l,n)},rowData:e,value:e[l.dataIndex],children:s.a.createElement("div",null,l.render?l.render(e[l.dataIndex],e,n):e[l.dataIndex])})})))})))})))):s.a.createElement("div",{className:"emptyTable"},"No Data"))},_=t(107),k=t(204),A=t(146),z=t(847),T=t(848),V=t(832),R=t(833),G=t(839),J=t(203),F=t(837),D=["#6d86b2","#799d91","#9da17b","#e2ca88","#e3a8bb","#a396c7","#5ca6a9","#c96b6b","#a0876e","#799f91","#6e4f77","#507daf","#c1bd76","#ed8489","#74a5b5","#655244"],Q=b.b.div(C||(C=Object(d.a)(["\n  margin: 20px 0 0;\n  width: 100%;\n  .wrapper{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 20px 0 10px;\n    width: 100%;\n  }\n  .clickOutsideBox {\n    max-width: calc((100% - 10px)/2);\n    &:not(:last-child){\n      margin: 0 10px 0 0\n    }\n    .selectWrapper{\n      min-width: 260px;\n      min-height: 46px;\n    }\n  }\n  .chartWrapper{\n    width: 100%;\n    height: 400px;\n    .recharts-default-legend{\n      font-size: 12px;\n      margin: 0 40px;\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n      justify-content: center;\n      .recharts-legend-item{\n        display: flex;\n        align-items: center;\n      }\n    }\n    .recharts-tooltip-wrapper{\n      &:focus{\n        outline: none;\n      }\n    }\n    text{\n      font-size: 12px;\n    }\n  }\n"]))),B=function(e){var n=e.dataSource,t=e.chartXOpt,a=e.chartGroupOpt,r=Object(u.useState)({}),l=Object(o.a)(r,2),i=l[0],c=l[1],d=Object(u.useState)([]),b=Object(o.a)(d,2),h=b[0],m=b[1],f=Object(u.useState)([]),p=Object(o.a)(f,2),g=p[0],x=p[1],O=Object(u.useState)([]),v=Object(o.a)(O,2),j=v[0],w=v[1],E=Object(u.useRef)();return Object(u.useEffect)((function(){var e=n.filter((function(e){return g.includes(e.name)}));m(e)}),[JSON.stringify(g),JSON.stringify(n)]),Object(u.useEffect)((function(){var e,n,a,r,l,i;x([null===(e=t[0])||void 0===e?void 0:e.value,null===(n=t[1])||void 0===n?void 0:n.value,null===(a=t[2])||void 0===a?void 0:a.value,null===(r=t[3])||void 0===r?void 0:r.value,null===(l=t[4])||void 0===l?void 0:l.value,null===(i=t[5])||void 0===i?void 0:i.value]),w(["Q1-2004","Q2-2004","Q3-2004","Q4-2004"])}),[JSON.stringify(t),JSON.stringify(a)]),Object(u.useEffect)((function(){E.current&&c({width:E.current.clientWidth,height:E.current.clientHeight,margin:{top:25,bottom:10,left:20,right:20}})}),[E,JSON.stringify(n)]),s.a.createElement(Q,null,s.a.createElement("div",{className:"wrapper"},s.a.createElement(N.b,{isMulti:!0,name:"xAxisData",hasSearchBar:!0,placeholder:"AccountName",value:g,options:t,onChange:function(e){return x(e.xAxisData)}}),s.a.createElement(N.b,{isMulti:!0,name:"barGroup",hasSearchBar:!0,placeholder:"Time",value:j,options:a,onChange:function(e){return w(e.barGroup)}})),s.a.createElement("div",{className:"chartWrapper",ref:E},s.a.createElement(z.a,{width:"100%",height:"100%"},s.a.createElement(T.a,{width:i.width,height:i.height,margin:i.margin,data:h},s.a.createElement(V.a,{dataKey:"accountName",tickSize:0,tickMargin:10}),s.a.createElement(R.a,{tickSize:0,tickMargin:5}),s.a.createElement(G.a,{cursor:{fill:"#eeeeee"},labelStyle:{fontSize:"12px",fontWeight:600},contentStyle:{fontSize:"12px",borderRadius:"6px"},wrapperStyle:{border:"none",boxShadow:"none"}}),s.a.createElement(J.a,null),j.map((function(e,n){return s.a.createElement(F.a,{dataKey:e,fill:D[n],key:e})}))))))},H=b.b.div(I||(I=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 5% 6%;\n  .wrapper{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 0 15px;\n    min-height: 40px;\n    >div:not(:last-child){\n      margin: 0 10px 0 0\n    }\n  }\n"]))),W="6rem",P=[{title:"plan_chart_of_accounts",dataIndex:"accountName",width:"10rem",className:"btnCell",align:"center",titleAlign:"center",sortable:!0},{title:"Q1-2004",dataIndex:"Q1-2004",width:W,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Jan-2004",dataIndex:"Jan-2004",width:W,className:"btnCell",align:"right",sortable:!0,editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Feb-2004",dataIndex:"Feb-2004",width:W,className:"btnCell",align:"right",sortable:!0,editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Mar-2004",dataIndex:"Mar-2004",width:W,className:"btnCell",align:"right",sortable:!0,editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}}]},{title:"Q2-2004",dataIndex:"Q2-2004",width:W,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Apr-2004",dataIndex:"Apr-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"May-2004",dataIndex:"May-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Jun-2004",dataIndex:"Jun-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}}]},{title:"Q3-2004",dataIndex:"Q3-2004",width:W,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Jul-2004",dataIndex:"Jul-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Aug-2004",dataIndex:"Aug-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Sep-2004",dataIndex:"Sep-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}}]},{title:"Q4-2004",dataIndex:"Q4-2004",width:W,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Oct-2004",dataIndex:"Oct-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Nov-2004",dataIndex:"Nov-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Dec-2004",dataIndex:"Dec-2004",width:W,className:"btnCell",align:"right",editable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}}]}],L=Object(m.a)(Object(h.c)((function(e){return{}}),{}))((function(e){var n=Object(u.useState)(!1),t=Object(o.a)(n,2),a=t[0],r=t[1],d=Object(u.useState)('SELECT\n  {TM1SubsetToSet([plan_time].[plan_time], "plan_time_2004_qtrs_and_month")}\n  PROPERTIES [plan_time].[plan_time].[Time]  ON COLUMNS, \n  TM1SubsetAll([plan_chart_of_accounts]) \n  PROPERTIES [plan_chart_of_accounts].[plan_chart_of_accounts].[AccountName]  ON ROWS \nFROM [plan_BudgetPlan] \nWHERE (\n  [plan_version].[plan_version].[FY 2004 Budget],\n  [plan_business_unit].[plan_business_unit].[10110],\n  [plan_department].[plan_department].[105],\n  [plan_exchange_rates].[plan_exchange_rates].[local],\n  [plan_source].[plan_source].[input]\n)'),b=Object(o.a)(d,2),h=b[0],m=b[1],f=Object(u.useState)([]),x=Object(o.a)(f,2),O=x[0],v=x[1],j=Object(u.useState)([]),E=Object(o.a)(j,2),C=E[0],I=E[1],N=Object(u.useState)([]),S=Object(o.a)(N,2),y=S[0],A=S[1],z=Object(u.useState)(!1),T=Object(o.a)(z,2),V=T[0],R=T[1];function G(e){g.a.getTableByMdx({MDX:e.replace(/\n/g," ")}).then((function(e){var n=e.data,t=n.Axes[1].Tuples.map((function(e,t){var a=e.Members[0];return I((function(e){return[].concat(Object(c.a)(e),[{label:a.Attributes.AccountName,value:a.Name}])})),n.Axes[0].Tuples.reduce((function(e,n){var t,a=null===n||void 0===n?void 0:n.Members[0];return Object(i.a)(Object(i.a)({},e),{},Object(l.a)({},null===a||void 0===a||null===(t=a.Attributes)||void 0===t?void 0:t.Time,""))}),{accountName:a.Attributes.AccountName,name:a.Name,no:t+1})})),a=n.Axes[0].Tuples.map((function(e){return{label:e.Members[0].Name,value:e.Members[0].Name}}));A(a),v(t),function(e,n){g.a.getCells(e).then((function(e){var t=e.data.Cells,a=n.map((function(e,n){var a,r=15*n;return Object(i.a)(Object(i.a)({},e),{},(a={},Object(l.a)(a,P[1].dataIndex,t[r+e.no-1].Value),Object(l.a)(a,P[1].children[0].dataIndex,t[r+e.no].Value),Object(l.a)(a,P[1].children[1].dataIndex,t[r+e.no+1].Value),Object(l.a)(a,P[1].children[2].dataIndex,t[r+e.no+2].Value),Object(l.a)(a,P[2].dataIndex,t[r+e.no+3].Value),Object(l.a)(a,P[2].children[0].dataIndex,t[r+e.no+4].Value),Object(l.a)(a,P[2].children[1].dataIndex,t[r+e.no+5].Value),Object(l.a)(a,P[2].children[2].dataIndex,t[r+e.no+6].Value),Object(l.a)(a,P[3].dataIndex,t[r+e.no+7].Value),Object(l.a)(a,P[3].children[0].dataIndex,t[r+e.no+8].Value),Object(l.a)(a,P[3].children[1].dataIndex,t[r+e.no+9].Value),Object(l.a)(a,P[3].children[2].dataIndex,t[r+e.no+10].Value),Object(l.a)(a,P[4].dataIndex,t[r+e.no+11].Value),Object(l.a)(a,P[4].children[0].dataIndex,t[r+e.no+12].Value),Object(l.a)(a,P[4].children[1].dataIndex,t[r+e.no+13].Value),Object(l.a)(a,P[4].children[2].dataIndex,t[r+e.no+14].Value),a))}));v(a)})).catch((function(e){}))}(n.ID,t)})).catch((function(e){}))}function J(e){r(e)}return Object(u.useEffect)((function(){G(h)}),[]),s.a.createElement(H,null,V?s.a.createElement("div",{className:"wrapper"},s.a.createElement(_.a,{onClick:function(){console.log("SAVE :::::",O),R(!1)}},"Save"),s.a.createElement(_.a,{onClick:function(){return R(!1)}},"Cancel")):s.a.createElement("div",{className:"wrapper"},s.a.createElement(_.a,{onClick:function(){return R(!0)}},s.a.createElement(p.b,null)),s.a.createElement(_.a,{onClick:function(){return J(!0)}},s.a.createElement(p.a,null))),s.a.createElement(w,null,s.a.createElement(M,{columns:P,dataSource:O,setDataSource:v,columnHeaderFreeze:!0,editMode:V,showGutter:{title:"",dataIndex:"",width:"2rem",className:"gutterCell",align:"center"}})),s.a.createElement(B,{dataSource:O,chartXOpt:C,chartGroupOpt:y}),s.a.createElement(k.a,{isOpen:a,toggleClose:function(){return J(!1)},mdxCode:h,onChange:function(e){m(e)},onSave:function(){G(h)},readOnly:!0}))}));n.default=L}}]);
//# sourceMappingURL=Demo2.e912a30b.chunk.js.map