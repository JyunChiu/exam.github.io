(this.webpackJsonptestreactapp=this.webpackJsonptestreactapp||[]).push([[3],{858:function(e,n,t){"use strict";t.r(n);var a,r,l=t(20),i=t(22),c=t(107),o=t(64),d=t(29),u=t(0),s=t.n(u),h=t(30),b=t(11),m=t(32),p=t(83),f=t(95),g=t(206),x=t(96),O=t(710),j=t(158),v=t(69),w=h.b.div(a||(a=Object(d.a)(["\n  ","\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  border: 1px solid ",";\n  font-size: 12px;\n  max-height: 500px;\n\n  table{\n    table-layout: fixed;\n    /* border-collapse: collapse; */\n    border-collapse: separate;\n    border-spacing: 0;\n    border-width: 0px;\n    width: 100%;\n    border-color: ",";\n  }\n\n  .tableHeadZone{\n    overflow-x: auto;\n    padding: 0 3px 0 0;\n    border-bottom: 1px solid ",";\n    background: #eeeeee;\n    position: sticky;\n    top: 0;\n    z-index: 3;\n    tr{\n      .tableCell{\n        background: #eeeeee;\n        border-bottom-width: 1px;\n        &.sortable{\n          cursor: pointer;\n        }\n        .iconSort{\n          font-size: 14px;\n          margin: 0 0 0 2px;\n          transition: .4s ease;\n        }\n        .iconExpand{\n          margin: 0 4px 0 0;\n          transition: .4s ease;\n        }\n        .iconSort:active, .iconExpand:active{\n          transform: scale(0.9);\n        }\n      }\n    }\n    ::-webkit-scrollbar {\n      &:horizontal{ display: none }\n    }\n  }\n\n  .tableBodyZone{\n    tr{\n      &:not(:last-child){\n        border-bottom: 1px solid ",";\n        .tableCell{\n          border-bottom-width: 1px;\n        }\n      }\n      .tableCell{\n        background: ",";\n      }\n    }\n  }\n\n  .emptyTable{\n    display: flex;\n    justify-content: center;\n    margin: 8% 0;\n    font-size: 1rem;\n    font-weight: 500;\n  }\n\n"])),Object(j.a)(2),v.a.GRAY,v.a.GRAY,v.a.GRAY,v.a.GRAY,v.a.WHITE),E=h.b.td(r||(r=Object(d.a)(["\n  padding: 5px;\n  width: ",";\n  letter-spacing: 0;\n  text-align: ",";\n  >div{\n    display: flex;\n    align-items: center;\n    justify-content: ",";\n    >span{\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n    }\n  }\n  &:first-child{\n    position: ",";\n    z-index: 1;\n    left: 0;\n  }\n  &:nth-child(2){\n    position: ",";\n    z-index: 1;\n    left: 32px;\n  }\n  &:not(:last-child){\n    border-right: 1px solid ",";\n  }\n  \n  &.hasChildren{\n    background: #eeeeee !important;\n  }\n"])),(function(e){return e.width||"auto"}),(function(e){return e.align||"center"}),(function(e){return function(e){switch(e){case"left":return"flex-start";case"right":return"flex-end";default:return"center"}}(e.align)}),(function(e){return e.columnHeaderFreeze||e.showGutter?"sticky":"unset"}),(function(e){return e.columnHeaderFreeze&&e.showGutter?"sticky":"unset"}),v.a.GRAY);var N,C,I="descend",S="ascend",y=function(e){var n=e.columnHeaderFreeze,t=void 0!==n&&n,a=e.showGutter,r=void 0!==a&&a,l=e.columns,d=void 0===l?[]:l,h=e.dataSource,b=void 0===h?[]:h,m=e.onRow,f=void 0===m?function(){}:m,g=Object(u.useState)(b),j=Object(o.a)(g,2),v=j[0],w=j[1],N=Object(u.useState)(d),C=Object(o.a)(N,2),y=C[0],_=C[1],M=Object(u.useState)([]),A=Object(o.a)(M,2),k=A[0],z=A[1];function T(e){var n,t=["tableCell"];return e.className&&t.push(e.className),(null===(n=e.children)||void 0===n?void 0:n.length)>0&&t.push("hasChildren"),e.sortable&&t.push("sortable"),t.join(" ")}function V(e){var n=G("column",e,k,"findIndex"),t=Object(c.a)(k);if(-1===n)z((function(n){return[].concat(Object(c.a)(n),[{column:e,order:I}])}));else{var a;switch(k[n].order){case"":a=I,t[n]={column:e,order:a};break;case I:a=S,t[n]={column:e,order:a};break;case S:a="",t.splice(n,1)}z(t)}}function R(e){var n=G("column",e,k,"find");if(n)switch(n.order){case I:return s.a.createElement(x.c,{className:"iconSort"});case S:return s.a.createElement(x.d,{className:"iconSort"});default:return}}function G(e,n,t,a){return p[a](p.propEq(e,n))(t)}function J(e,n,a,l){return s.a.createElement(E,Object.assign({key:"table-".concat(a,"--").concat(e.dataIndex,"--").concat(n+1),id:"table-".concat(a,"--").concat(n+1),className:T(e),width:e.width,align:e.align,columnHeaderFreeze:t,showGutter:r},l),l.children)}function F(e,n){e.stopPropagation();var t=G("dataIndex",n,y,"findIndex"),a=Object(c.a)(y),r=Object(c.a)(y)[t];a[t]=Object(i.a)(Object(i.a)({},r),{},{showChildren:!r.showChildren}),_(a)}return Object(u.useEffect)((function(){w(b)}),[b]),Object(u.useEffect)((function(){if(0!==k.length){var e=k.map((function(e){return p[e.order](p.prop(e.column))})),n=p.sortWith(e)(b);w(n)}else w(b)}),[JSON.stringify(k)]),s.a.createElement(s.a.Fragment,null,v.length>0?s.a.createElement("table",null,s.a.createElement("thead",{className:"tableHeadZone"},s.a.createElement("tr",null,r&&J(r,0,"header",{align:r.titleAlign?r.titleAlign:r.align,children:s.a.createElement(s.a.Fragment,null,r.title," ")}),y.map((function(e,n){var t;return s.a.createElement(s.a.Fragment,null,J(e,r?n+1:n,"header",{align:e.titleAlign?e.titleAlign:e.align,children:s.a.createElement("div",null,(null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>0&&(e.showChildren?s.a.createElement(O.a,{className:"iconExpand",onClick:function(n){return F(n,e.dataIndex)}}):s.a.createElement(O.b,{className:"iconExpand",onClick:function(n){return F(n,e.dataIndex)}})),s.a.createElement("span",{onClick:function(){return e.sortable?V(e.dataIndex):{}}},e.title),e.sortable&&R(e.dataIndex))}),e.showChildren&&e.children.map((function(e){return J(e,r?n+1:n,"header",{align:e.titleAlign?e.titleAlign:e.align,children:s.a.createElement("div",null,s.a.createElement("span",{onClick:function(){return e.sortable?V(e.dataIndex):{}}},e.title),e.sortable&&R(e.dataIndex))})})))})))),s.a.createElement("tbody",{className:"tableBodyZone"},v.map((function(e,n){return s.a.createElement("tr",{key:"table-row--".concat(n),id:"table-row--".concat(n),onClick:function(n){return function(e,n){e.stopPropagation(),f(n)}(n,e)},className:e.highlight?"highlight":""},r&&J(r,0,"cell",{children:"".concat(n+1)}),y.map((function(t,a){return s.a.createElement(s.a.Fragment,null,J(t,r?a+1:a,"cell",{align:t.titleAlign?t.titleAlign:t.align,onClick:t.onCell?function(n){return function(e,n,t){e.stopPropagation(),n(t)}(n,t.onCell,e)}:function(){},children:s.a.createElement("div",null,t.render?t.render(e[t.dataIndex],e,n):e[t.dataIndex])}),t.showChildren&&t.children.map((function(t){return J(t,r?a+1:a,"cell",{align:t.titleAlign?t.titleAlign:t.align,children:s.a.createElement("div",null,t.render?t.render(e[t.dataIndex],e,n):e[t.dataIndex])})})))})))})))):s.a.createElement("div",{className:"emptyTable"},"No Data"))},_=t(109),M=t(205),A=t(145),k=(t(711),t(204)),z=t(851),T=t(852),V=t(836),R=t(837),G=t(843),J=t(203),F=t(841),Q=["#6d86b2","#799d91","#9da17b","#e2ca88","#e3a8bb","#a396c7","#5ca6a9","#c96b6b","#a0876e","#799f91","#6e4f77","#507daf","#c1bd76","#ed8489","#74a5b5","#655244"],H=h.b.div(N||(N=Object(d.a)(["\n  margin: 20px 0 0;\n  width: 100%;\n  .wrapper{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 20px 0 10px;\n    width: 100%;\n  }\n  .clickOutsideBox {\n    max-width: calc((100% - 10px)/2);\n    &:not(:last-child){\n      margin: 0 10px 0 0\n    }\n    .selectWrapper{\n      min-width: 260px;\n      min-height: 44px;\n    }\n  }\n  .chartWrapper{\n    width: 100%;\n    height: 400px;\n    .recharts-default-legend{\n      font-size: 12px;\n      margin: 0 40px;\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n      justify-content: center;\n      .recharts-legend-item{\n        display: flex;\n        align-items: center;\n      }\n    }\n    .recharts-tooltip-wrapper{\n      &:focus{\n        outline: none;\n      }\n    }\n    text{\n      font-size: 12px;\n    }\n  }\n"]))),W=function(e){var n=e.dataSource,t=e.chartXOpt,a=e.chartGroupOpt,r=Object(u.useState)({}),l=Object(o.a)(r,2),i=l[0],c=l[1],d=Object(u.useState)([]),h=Object(o.a)(d,2),b=h[0],m=h[1],p=Object(u.useState)([]),f=Object(o.a)(p,2),g=f[0],x=f[1],O=Object(u.useState)([]),j=Object(o.a)(O,2),v=j[0],w=j[1],E=Object(u.useRef)();return Object(u.useEffect)((function(){var e=n.filter((function(e){return g.includes(e.name)}));m(e)}),[JSON.stringify(g),JSON.stringify(n)]),Object(u.useEffect)((function(){var e,n,a,r,l,i;x([null===(e=t[0])||void 0===e?void 0:e.value,null===(n=t[1])||void 0===n?void 0:n.value,null===(a=t[2])||void 0===a?void 0:a.value,null===(r=t[3])||void 0===r?void 0:r.value,null===(l=t[4])||void 0===l?void 0:l.value,null===(i=t[5])||void 0===i?void 0:i.value]),w(["Q1-2004","Q2-2004","Q3-2004","Q4-2004"])}),[JSON.stringify(t),JSON.stringify(a)]),Object(u.useEffect)((function(){E.current&&c({width:E.current.clientWidth,height:E.current.clientHeight,margin:{top:25,bottom:10,left:20,right:20}})}),[E,JSON.stringify(n)]),s.a.createElement(H,null,s.a.createElement("div",{className:"wrapper"},s.a.createElement(k.a,{isMulti:!0,name:"xAxisData",hasSearchBar:!0,placeholder:"AccountName",value:g,options:t,onChange:function(e){return x(e.xAxisData)}}),s.a.createElement(k.a,{isMulti:!0,name:"barGroup",hasSearchBar:!0,placeholder:"Time",value:v,options:a,onChange:function(e){return w(e.barGroup)}})),s.a.createElement("div",{className:"chartWrapper",ref:E},s.a.createElement(z.a,{width:"100%",height:"100%"},s.a.createElement(T.a,{width:i.width,height:i.height,margin:i.margin,data:b},s.a.createElement(V.a,{dataKey:"accountName",tickSize:0,tickMargin:10}),s.a.createElement(R.a,{tickSize:0,tickMargin:5}),s.a.createElement(G.a,{cursor:{fill:"#eeeeee"},labelStyle:{fontSize:"12px",fontWeight:600},contentStyle:{fontSize:"12px",borderRadius:"6px"},wrapperStyle:{border:"none",boxShadow:"none"}}),s.a.createElement(J.a,null),v.map((function(e,n){return s.a.createElement(F.a,{dataKey:e,fill:Q[n],key:e})}))))))},B=h.b.div(C||(C=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 5%;\n  .btnCode{\n    margin: 0 0 20px;\n  }\n"]))),P="6rem",D=[{title:"plan_chart_of_accounts",dataIndex:"accountName",width:"10rem",className:"btnCell",align:"left",titleAlign:"center",sortable:!0},{title:"Q1-2004",dataIndex:"Q1-2004",width:P,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Jan-2004",dataIndex:"Jan-2004",width:P,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Feb-2004",dataIndex:"Feb-2004",width:P,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Mar-2004",dataIndex:"Mar-2004",width:P,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))}}]},{title:"Q2-2004",dataIndex:"Q2-2004",width:P,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Apr-2004",dataIndex:"Apr-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"May-2004",dataIndex:"May-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Jun-2004",dataIndex:"Jun-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}}]},{title:"Q3-2004",dataIndex:"Q3-2004",width:P,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Jul-2004",dataIndex:"Jul-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Aug-2004",dataIndex:"Aug-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Sep-2004",dataIndex:"Sep-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}}]},{title:"Q4-2004",dataIndex:"Q4-2004",width:P,className:"btnCell",align:"right",sortable:!0,render:function(e,n){return Object(A.a)(Math.round(e))},showChildren:!0,children:[{title:"Oct-2004",dataIndex:"Oct-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Nov-2004",dataIndex:"Nov-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}},{title:"Dec-2004",dataIndex:"Dec-2004",width:P,className:"btnCell",align:"right",render:function(e,n){return Object(A.a)(Math.round(e))}}]}],Y=Object(m.a)(Object(b.c)((function(e){return{}}),{}))((function(e){var n=Object(u.useState)(!1),t=Object(o.a)(n,2),a=t[0],r=t[1],d=Object(u.useState)('SELECT\n  {TM1SubsetToSet([plan_time].[plan_time], "plan_time_2004_qtrs_and_month")}\n  PROPERTIES [plan_time].[plan_time].[Time]  ON COLUMNS, \n  TM1SubsetAll([plan_chart_of_accounts]) \n  PROPERTIES [plan_chart_of_accounts].[plan_chart_of_accounts].[AccountName]  ON ROWS \nFROM [plan_BudgetPlan] \nWHERE (\n  [plan_version].[plan_version].[FY 2004 Budget],\n  [plan_business_unit].[plan_business_unit].[10110],\n  [plan_department].[plan_department].[105],\n  [plan_exchange_rates].[plan_exchange_rates].[local],\n  [plan_source].[plan_source].[input]\n)'),h=Object(o.a)(d,2),b=h[0],m=h[1],p=Object(u.useState)([]),x=Object(o.a)(p,2),O=x[0],j=x[1],v=Object(u.useState)([]),E=Object(o.a)(v,2),N=E[0],C=E[1],I=Object(u.useState)([]),S=Object(o.a)(I,2),A=S[0],k=S[1];function z(e){g.a.getTableByMdx({MDX:e.replace(/\n/g," ")}).then((function(e){var n=e.data,t=n.Axes[1].Tuples.map((function(e,t){var a=e.Members[0];return C((function(e){return[].concat(Object(c.a)(e),[{label:a.Attributes.AccountName,value:a.Name}])})),n.Axes[0].Tuples.reduce((function(e,n){var t,a=null===n||void 0===n?void 0:n.Members[0];return Object(i.a)(Object(i.a)({},e),{},Object(l.a)({},null===a||void 0===a||null===(t=a.Attributes)||void 0===t?void 0:t.Time,""))}),{accountName:a.Attributes.AccountName,name:a.Name,no:t+1})})),a=n.Axes[0].Tuples.map((function(e){return{label:e.Members[0].Name,value:e.Members[0].Name}}));k(a),j(t),function(e,n){g.a.getCells(e).then((function(e){var t=e.data.Cells,a=n.map((function(e,n){var a,r=15*n;return Object(i.a)(Object(i.a)({},e),{},(a={},Object(l.a)(a,D[1].dataIndex,t[r+e.no-1].Value),Object(l.a)(a,D[1].children[0].dataIndex,t[r+e.no].Value),Object(l.a)(a,D[1].children[1].dataIndex,t[r+e.no+1].Value),Object(l.a)(a,D[1].children[2].dataIndex,t[r+e.no+2].Value),Object(l.a)(a,D[2].dataIndex,t[r+e.no+3].Value),Object(l.a)(a,D[2].children[0].dataIndex,t[r+e.no+4].Value),Object(l.a)(a,D[2].children[1].dataIndex,t[r+e.no+5].Value),Object(l.a)(a,D[2].children[2].dataIndex,t[r+e.no+6].Value),Object(l.a)(a,D[3].dataIndex,t[r+e.no+7].Value),Object(l.a)(a,D[3].children[0].dataIndex,t[r+e.no+8].Value),Object(l.a)(a,D[3].children[1].dataIndex,t[r+e.no+9].Value),Object(l.a)(a,D[3].children[2].dataIndex,t[r+e.no+10].Value),Object(l.a)(a,D[4].dataIndex,t[r+e.no+11].Value),Object(l.a)(a,D[4].children[0].dataIndex,t[r+e.no+12].Value),Object(l.a)(a,D[4].children[1].dataIndex,t[r+e.no+13].Value),Object(l.a)(a,D[4].children[2].dataIndex,t[r+e.no+14].Value),a))}));j(a)})).catch((function(e){}))}(n.ID,t)})).catch((function(e){}))}function T(e){r(e)}return Object(u.useEffect)((function(){z(b)}),[]),s.a.createElement(B,null,s.a.createElement(_.a,{onClick:function(){return T(!0)},className:"btnCode"},s.a.createElement(f.a,null)),s.a.createElement(w,null,s.a.createElement(y,{columns:D,dataSource:O,columnHeaderFreeze:!0,showGutter:{title:"",dataIndex:"",width:"2rem",className:"gutterCell",align:"center"}})),s.a.createElement(W,{dataSource:O,chartXOpt:N,chartGroupOpt:A}),s.a.createElement(M.a,{isOpen:a,toggleClose:function(){return T(!1)},mdxCode:b,onChange:function(e){m(e)},onSave:function(){z(b)},readOnly:!0}))}));n.default=Y}}]);
//# sourceMappingURL=Demo2.2760bac4.chunk.js.map